name: Kydras Governance Pipeline
on: [push, pull_request]
jobs:
  compliance:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: PowerShell/actions-setup-pwsh@v2
      - run: pwsh ./C:/Scripts/kydras-compliance.ps1 -Command export
      - uses: actions/upload-artifact@v4
        with:
          name: governance-artifacts
          path: ~/kydras-governance/*
- name: Auto-tag release
  shell: bash
  run: |
    git config user.name \"kydras-ci\"
    git config user.email \"ci@kydras.com\"
    TAG=\"v\\"
    git tag \
    git push origin \
    echo \"ðŸ”– Tagged release: \\"
- name: Auto-tag release
  shell: bash
  run: |
    git config user.name "kydras-ci"
    git config user.email "ci@kydras.com"
    TAG="v$(date +'%Y.%m.%d.%H%M')"
    git tag $TAG
    git push origin $TAG
    echo "ðŸ”– Tagged release: $TAG"
